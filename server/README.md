# run in Docker

## set environment variables

- AWS creds:
```bash
eval "$(aws configure export-credentials --profile <YOUR_PROFILE> --format env)"
```

## run

```bash
# from repo root
docker-compose up
```


## rebuild and run on code change

```bash
# from repo root
docker-compose up --build
```

## run client

```bash
cd ui/
yarn start
```

# development

## edit client on API change

```python
import json
from fastapi.openapi.utils import get_openapi
from app import app

with open('openapi.json', 'w') as f:
    json.dump(get_openapi(
        title=app.title,
        version=app.version,
        openapi_version=app.openapi_version,
        description=app.description,
        routes=app.routes,
    ), f)
```
```bash
export SERVER=$(pwd)
cd ui/
yarn codegen
```
now edit `src/adala.tsx` manually given the autogenerated changes in `src/_api/`
